{"version":3,"sources":["images/logo.svg","images/hamburger_icon_white.svg","images/close-icon.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/AuthorizationForm.js","components/Login.js","components/Register.js","utils/api.js","images/image-success.svg","images/image-failure.svg","components/InfoTooltip.js","components/ProtectedRoute.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","history","useHistory","React","useState","mobileWidth","setMobileWidth","isMobileMenuOpen","setIsMobileMenuOpen","useEffect","checkWidth","window","matchMedia","matches","addEventListener","removeEventListener","className","loggedIn","src","logo","alt","CloseMenuIcon","HamburgerMenuIcon","onClick","to","pageLink","localStorage","removeItem","console","log","push","linkTitle","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onDeleteCardClick","link","name","onCardClick","onCardLike","Main","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","id","length","Footer","PopupWithForm","close","e","key","onClose","isOpen","target","classList","contains","preventDefault","onSubmit","title","children","isLoading","loadingText","buttonText","EditProfilePopup","setName","description","setDescription","onRenderLoading","onUpdateUser","value","placeholder","minLength","maxLength","onChange","required","AddPlacePopup","setLink","onAddPlaceSubmit","ProfileImagePopup","avatarRef","useRef","onUpdateAvatar","current","ref","DeleteCardPopup","onDeleteCardSubmit","cardToDelete","ImagePopup","withRouter","onAuthorizationSubmit","email","onEmailChange","password","onPasswordChange","buttonTitle","pageLinkTitle","Login","onLoginSubmit","Register","onRegisterSubmit","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_returnRes","cardId","removeLike","addLike","body","JSON","stringify","authorization","InfoTooltip","isSuccess","ImageSuccess","ImageFailure","ProtectedRoute","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","setCardToDelete","setloggedIn","setEmail","setPassword","closeAllPopups","handleEmailChange","handlePasswordChange","handleChangeButtonText","getUserInfo","catch","err","getCardList","Provider","exact","path","clickedCard","newCard","state","c","info","setUserInfo","addCard","EditAvatarPopup","setUserAvatar","removeCard","filter","identifier","Accept","response","data","token","setItem","auth","handleLogin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.9b41fb77.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","export default __webpack_public_path__ + \"static/media/hamburger_icon_white.a3d24b6c.svg\";","export default __webpack_public_path__ + \"static/media/close-icon.2286ad03.svg\";","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport logo from \"../images/logo.svg\";\nimport HamburgerMenuIcon from \"../images/hamburger_icon_white.svg\";\nimport CloseMenuIcon from \"../images/close-icon.svg\";\n\nfunction Header(props) {\n  const history = useHistory();\n  const [mobileWidth, setMobileWidth] = React.useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\n\n  React.useEffect(() => {\n    function checkWidth() {\n      const windowWidth = window.matchMedia(\"(max-width: 550px)\");\n      if (windowWidth.matches) {\n        setMobileWidth(true);\n      } else {\n        setMobileWidth(false);\n      }\n    }\n    checkWidth();\n    window.addEventListener(\"resize\", checkWidth);\n    return () => window.removeEventListener(\"resize\", checkWidth);\n  });\n\n  function handleHamburgeMenuClick() {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  }\n\n  function signOut() {\n    localStorage.removeItem(\"jwt\");\n    console.log('jwt removed');\n    history.push(\"/login\");\n  }\n\n  return (\n    <header className={`header ${props.loggedIn && \"header__mobile\"}`}>\n      <div className=\"header__logo-group\">\n        <img className=\"logo\" src={logo} alt=\"logo\" />\n        {props.loggedIn && mobileWidth && (\n          <img\n            className={`${\n              mobileWidth && isMobileMenuOpen\n                ? \"header__close-icon\"\n                : \"header__hamburger-icon\"\n            }`}\n            src={!isMobileMenuOpen ? HamburgerMenuIcon : CloseMenuIcon}\n            alt=\"\"\n            onClick={handleHamburgeMenuClick}\n          />\n        )}\n      </div>\n      <div\n        className={`header__info-group ${\n          mobileWidth && props.loggedIn && \"header__info-group_type_mobile\"\n        } ${\n          mobileWidth && !isMobileMenuOpen && props.loggedIn && \"mobile-menu\"\n        }`}\n      >\n        {props.loggedIn && <p className=\"header__email\">cjmaret@gmail.com</p>}\n        <Link\n          className={`header__link ${\n            mobileWidth && props.loggedIn && \"header__link_type_mobile\"\n          } ${\n            props.loggedIn\n              ? \"header__link_type_grey\"\n              : \"header__link_type_white\"\n          }`}\n          to={props.pageLink}\n          onClick={signOut}\n        >\n          {props.linkTitle}\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","\nimport React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card?.owner._id === currentUser?._id;\n    const cardDeleteButtonClassName = (\n        `image-card__trash ${isOwn ? 'image-card__trash_visible' : 'image-card__trash_hidden'}`);\n    const isLiked = props.card?.likes.some(i => i._id === currentUser?._id);\n    const cardLikeButtonClassName = (\n        `image-card__heart ${isLiked ? 'image-card__heart_liked': ''}`);\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    function handleDeleteClick() {\n        props.onDeleteCardClick(props.card);\n    }\n\n\n    return (\n        <div className=\"image-card\">\n            <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"trash button\" onClick={handleDeleteClick}></button>\n            <img className=\"image-card__image\" src={props.link} alt={props.name} onClick={handleClick} />\n            <div className=\"image-card__text\">\n                <h2 className=\"image-card__title\">{props.name}</h2>\n                <div className=\"image-card__heart-group\">\n                    <button className={cardLikeButtonClassName} aria-label=\"Like button\" type=\"button\" onClick={handleLikeClick}></button>\n                    <p className=\"image-card__heart-number\">{props.likes}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n    const currentUser = React.useContext(CurrentUserContext)\n\n\n\n    return (\n        <main className=\"main\">\n\n            <section className=\"profile\">\n                <div className=\"profile__details\">\n                    <div className=\"profile__image-group\">\n                        <button className=\"profile__image-overlay\" type=\"button\"\n                            aria-label=\"profile image edit button\" onClick={props.onEditAvatarClick}></button>\n                        <img className=\"profile__image\" src={currentUser?.avatar} alt=\"profile\" />\n                    </div>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__line-top\">\n                            <h1 className=\"profile__title\">{currentUser?.name}</h1>\n                            <button className=\"profile__button-edit\" type=\"button\" aria-label=\"edit button\" onClick={props.onEditProfileClick}></button>\n                        </div>\n                        <p className=\"profile__subtitle\">{currentUser?.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__button-add\" type=\"button\" aria-label=\"add button\" onClick={props.onAddPlaceClick}></button>\n            </section>\n\n\n            <section className=\"image-grid\">\n\n                {props.cards.map(card => {\n                    return (\n                        <Card key={card._id} name={card.name} id={card._id} link={card.link} likes={card.likes.length} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onDeleteCardClick={props.onDeleteCardClick}/>\n                    )\n                })}\n\n            </section>\n\n\n        </main>\n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2021 Around The U.S.</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  React.useEffect(() => {\n    function close(e) {\n      if (e.key === \"Escape\") {\n        props.onClose();\n      }\n    }\n    props.isOpen && window.addEventListener(\"keydown\", close);\n    return () => window.removeEventListener(\"keydown\", close);\n  }, [props]);\n\n  function handleClickOutside(e) {\n    if (e.target.classList.contains(\"modal\")) {\n      e.preventDefault();\n      props.onClose();\n    }\n  }\n\n  return (\n    <>\n      <div\n        className={`modal modal_type_${props.name} ${\n          props.isOpen ? \"modal_open\" : \"\"\n        }`}\n        onClick={handleClickOutside}\n      >\n        <div className=\"modal__container\">\n          <button\n            className={`modal__close-icon modal__close-icon_type_${props.name}`}\n            type=\"button\"\n            aria-label=\"close button\"\n            onClick={props.onClose}\n          ></button>\n          <form\n            className={`edit-box edit-box_type_${props.name}`}\n            name={`form-${props.name}`}\n            onSubmit={props.onSubmit}\n          >\n            <h2 className=\"edit-box__title\">{props.title}</h2>\n            {props.children}\n            <button\n              className=\"edit-box__button edit-box__button_edit\"\n              type=\"submit\"\n              aria-label=\"save button\"\n              data-textcontent=\"Save\"\n            >\n              {props.isLoading ? props.loadingText : props.buttonText}\n            </button>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState();\n    const [description, setDescription] = React.useState();\n\n    React.useEffect(() => {\n        setName(currentUser?.name);\n        setDescription(currentUser?.about)\n    }, [currentUser, props.isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRenderLoading();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n\n    return (\n        <PopupWithForm name=\"edit\" title=\"Edit profile\" loadingText=\"Saving...\" buttonText=\"Save changes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n            <div className=\"edit-box__inputs\">\n                <div className=\"edit-box__input-group\">\n                    <input value={name || ''} id=\"title-input\" className=\"edit-box__input edit-box__input_type_title\" type=\"text\"\n                        name=\"username\" placeholder=\"Name\" minLength=\"2\" maxLength=\"40\" onChange={handleNameChange} required />\n                    <span id=\"title-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n                <div className=\"edit-box__input-group\">\n                    <input value={description || ''} id=\"subtitle-input\" className=\"edit-box__input edit-box__input_type_description\" type=\"text\"\n                        name=\"userdescription\" placeholder=\"Description\" minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} required />\n                    <span id=\"subtitle-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n            </div>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n    const [name, setName] = React.useState();\n    const [link, setLink] = React.useState();\n\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRenderLoading();\n        props.onAddPlaceSubmit({\n            name,\n            link\n        });\n        setName('');\n        setLink('');\n    }\n\n\n\n    return (\n        <PopupWithForm name=\"add\" title=\"New place\" loadingText=\"Creating...\" buttonText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n            <div className=\"edit-box__inputs\">\n                <div className=\"edit-box__input-group\">\n                    <input value={name || ''} id=\"image-title-input\" className=\"edit-box__input edit-box__input_type_image-title\"\n                        type=\"text\" name=\"name\" placeholder=\"Title\" minLength=\"1\" maxLength=\"30\" onChange={handleNameChange} required />\n                    <span id=\"image-title-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n                <div className=\"edit-box__input-group\">\n                    <input value={link || ''} id=\"image-link-input\" className=\"edit-box__input edit-box__input_type_image-link\" type=\"url\"\n                        name=\"link\" placeholder=\"Image link\" onChange={handleLinkChange} required />\n                    <span id=\"image-link-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n            </div>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ProfileImagePopup(props) {\n\n    const avatarRef = React.useRef();\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRenderLoading();\n        props.onUpdateAvatar(\n            avatarRef.current.value,\n        );\n        avatarRef.current.value = '';\n    }\n\n    return (\n        <PopupWithForm name=\"profile-image\" title=\"Change profile picture\" loadingText=\"Saving...\" buttonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n            <div className=\"edit-box__inputs\">\n                <div className=\"edit-box__input-group\">\n                    <input  ref={avatarRef} id=\"profile-image-link-input\" className=\"edit-box__input edit-box__input_type_image-link\" type=\"url\"\n                        name=\"profileimage\" placeholder=\"Image Link\"  required />\n                    <span id=\"profile-image-link-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n            </div>\n        </PopupWithForm>\n    );\n}\n\nexport default ProfileImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRenderLoading();\n        props.onDeleteCardSubmit(props.cardToDelete);\n    }\n\n    return (\n        <PopupWithForm name=\"delete-card\" title=\"Are you sure?\" loadingText=\"Deleting...\" buttonText=\"Yes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading} >\n        </PopupWithForm>\n    );\n}\n\nexport default DeleteCardPopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    React.useEffect(() => {\n\n        function close(e) {\n            if (e.key === 'Escape') {\n                props.onClose();\n            }\n        };\n\n        window.addEventListener('keydown', close);\n\n        return () => window.removeEventListener('keydown', close);\n\n}, [props]);\n\nfunction handleClickOutside(e) {\n    if (e.target.classList.contains('modal')) {\n        e.preventDefault();\n        props.onClose();\n    }\n}\n\n    return (\n        <div className={`modal image-expand ${props.card ? 'modal_open' : ''}`} onClick={handleClickOutside}>\n            <div className=\"image-expand__container\">\n                <button className=\"modal__close-icon modal__close-icon_type_image\" type=\"button\"\n                    aria-label=\"close button\" onClick={props.onClose}></button>\n                <div className=\"image-expand__info\">\n                    <img src={props.card?.link} className=\"image-expand__image\" alt={props.card?.name} />\n                    <h2 className=\"image-expand__title\">{props.card?.name}</h2>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./AuthorizationForm.css\";\n\nfunction AuthorizationForm(props) {\n\n  return (\n    <form className=\"auth-container\" onSubmit={props.onAuthorizationSubmit}>\n      <div className=\"upper-flex-container\">\n        <h2 className=\"auth-container__title\">{props.title}</h2>\n        <div className=\"auth-container__inputs\">\n          <div className=\"auth-container__input-group\">\n            <input\n              type=\"text\"\n              name=\"email\"\n              value={props.email}\n              id=\"auth-container__email-input\"\n              className=\"auth-container__input\"\n              placeholder=\"Email\"\n              onChange={props.onEmailChange}\n            />\n            <span\n              id=\"auth-container__email-input-error\"\n              className=\"auth-container__input-error\"\n            ></span>\n          </div>\n          <div className=\"auth-container__input-group\">\n            <input\n              type=\"text\"\n              name=\"password\"\n              value={props.password}\n              id=\"auth-container__password-input\"\n              className=\"auth-container__input\"\n              placeholder=\"Password\"\n              onChange={props.onPasswordChange}\n            />\n            <span\n              id=\"auth-container__password-input-error\"\n              className=\"auth-container__input-error\"\n            ></span>\n          </div>\n        </div>\n      </div>\n      <div className=\"lower-flex-container\">\n        <button\n          type=\"submit\"\n          className=\"auth-container__submit-button\"\n          onClick={props.onAuthorizationSubmit}\n        >\n          {props.buttonTitle}\n        </button>\n        <Link to={props.pageLink} className=\"auth-container__switch-link\">\n          {props.pageLinkTitle}\n        </Link>\n      </div>\n    </form>\n  );\n}\n\nexport default withRouter(AuthorizationForm);\n","import React from \"react\";\nimport Header from \"./Header\";\nimport AuthorizationForm from \"./AuthorizationForm\";\n\nfunction Login(props) {\n  return (\n    <>\n      <Header linkTitle=\"Sign up\" pageLink=\"./register\" />\n      <AuthorizationForm\n        title=\"Log in\"\n        buttonTitle=\"Log in\"\n        pageLink=\"./register\"\n        pageLinkTitle=\"Not a member yet? Sign up here!\"\n        email={props.email}\n        password={props.password}\n        onEmailChange={props.onEmailChange}\n        onPasswordChange={props.onPasswordChange}\n        onAuthorizationSubmit={props.onLoginSubmit}\n      />\n    </>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport AuthorizationForm from \"./AuthorizationForm\";\n\nfunction Register(props) {\n  return (\n    <>\n      <Header linkTitle=\"Log in\" pageLink=\"./login\" />\n      <AuthorizationForm\n        title=\"Sign up\"\n        buttonTitle=\"Sign up\"\n        pageLink=\"./login\"\n        pageLinkTitle=\"Already a member? Log in here!\"\n        email={props.email}\n        password={props.password}\n        onEmailChange={props.onEmailChange}\n        onPasswordChange={props.onPasswordChange}\n        onAuthorizationSubmit={props.onRegisterSubmit}\n      />\n    </>\n  );\n}\n\nexport default Register;\n","class Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    _returnRes(res) {\n        if (res.ok) {\n            return res.json();\n        } else {\n            return Promise.reject(`Error: ${res.status}`);\n        }\n    }\n\n    getCardList() {\n        return fetch(this._baseUrl + '/cards', {\n            method: \"GET\",\n            headers: this._headers,\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', {\n            method: \"GET\",\n            headers: this._headers,\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    addLike(cardId) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n            method: \"PUT\",\n            headers: this._headers,\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    removeLike(cardId) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n            method: \"DELETE\",\n            headers: this._headers,\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (!isLiked) {\n            this.addLike(cardId);\n        } else {\n            this.removeLike(cardId);\n        }\n    }\n\n    removeCard(cardId) {\n        return fetch(this._baseUrl + '/cards/' + cardId, {\n            method: \"DELETE\",\n            headers: this._headers,\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    setUserInfo({ name, about }) {\n        return fetch(this._baseUrl + '/users/me', {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                about\n            })\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n    setUserAvatar(avatar) {\n        return fetch(this._baseUrl + '/users/me/avatar', {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: avatar,\n            })\n        })\n            .then(res => {\n                return this._returnRes(res);\n            });\n    }\n\n    addCard({ name, link }) {\n        return fetch(this._baseUrl + '/cards', {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                link\n            })\n        })\n            .then(res => {\n                return this._returnRes(res);\n            })\n    }\n\n\n}\n\nconst api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n    headers: {\n        authorization: \"bf6a8c78-b245-4594-801d-fa3b505682c7\",\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default api;","export default __webpack_public_path__ + \"static/media/image-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/image-failure.df8eddf6.svg\";","import React from \"react\";\nimport \"./InfoTooltip.css\";\nimport ImageSuccess from \"../images/image-success.svg\";\nimport ImageFailure from \"../images/image-failure.svg\";\n\nfunction InfoTooltip(props) {\n  const [isSuccess, setIsSuccess] = React.useState(true);\n\n  React.useEffect(() => {\n    function close(e) {\n      if (e.key === \"Escape\") {\n        props.onClose();\n      }\n    }\n    props.isOpen && window.addEventListener(\"keydown\", close);\n    return () => window.removeEventListener(\"keydown\", close);\n  }, [props]);\n\n  function handleClickOutside(e) {\n    if (e.target.classList.contains(\"modal\")) {\n      e.preventDefault();\n      props.onClose();\n    }\n  }\n\n  return (\n    <>\n      <div\n        className={`modal modal_type_info-tooltip ${\n          props.isOpen ? \"modal_open\" : \"\"\n        }`}\n        onClick={handleClickOutside}\n      >\n        <div className=\"modal__container modal__container_type_info-tooltip\">\n          <button\n            className=\"modal__close-icon modal__close-icon_type_info-tooltip\"\n            type=\"button\"\n            aria-label=\"close button\"\n            onClick={props.onClose}\n          ></button>\n          <div className=\"info-tooltip\">\n            <img\n              className=\"info-tooltip__image\"\n              src={isSuccess ? ImageSuccess : ImageFailure}\n              alt=\"\"\n            />\n            <h2 className=\"info-tooltip__title\">\n              {isSuccess\n                ? \"Success! You have now been registered.\"\n                : \"Oops, something went wrong! Please try again.\"}\n            </h2>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ children, loggedIn, ...props }) {\n    return(\n        <Route {...props}>\n            {loggedIn ? children : <Redirect to={\"/login\"} />}\n        </Route>\n    );\n}\n\nexport default ProtectedRoute;","export const BASE_URL = \"https://register.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const authorize = (identifier, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ identifier, password }),\n  })\n    .then((response) => response.json())\n    .then((data) => {\n        console.log(data);\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n        console.log(data.token);\n        return data;\n      } else {\n        return;\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => data);\n};\n","/* eslint-disable no-restricted-globals */\nimport React from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../auth.js\";\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] =\n    React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState();\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState();\n  const [loggedIn, setloggedIn] = React.useState(true);\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  React.useEffect(() => {\n    // handleTokenCheck();\n    console.log(email);\n    console.log(password);\n  });\n\n  // function handleTokenCheck() {\n  //   if (localStorage.getItem(\"token\")) {\n  //     const jwt = localStorage.getItem(\"jwt\");\n\n  //     auth.checkToken(jwt).then((res) => {});\n  //   }\n  // }\n\n  function handleEditProfileClick() {\n    setIsLoading(false);\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsLoading(false);\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsLoading(false);\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleDeleteCardClick(clickedCard) {\n    setIsLoading(false);\n    setIsDeleteCardPopupOpen(true);\n    setCardToDelete(clickedCard);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleCardClick(clickedCard) {\n    setSelectedCard(clickedCard);\n  }\n\n  function handleUpdateUser(info) {\n    api\n      .setUserInfo(info)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(info) {\n    api\n      .setUserAvatar(info)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit({ link, name }) {\n    api\n      .addCard({ link, name })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleRegisterSubmit(e) {\n    e.preventDefault();\n    auth.register(email, password)\n    .then((res) => {\n      if (res) {\n        history.push(\"/login\");\n      } else {\n        console.log(\"Something went wrong\");\n      }\n    });\n    setIsInfoTooltipPopupOpen(true);\n  }\n\n  function handleLoginSubmit(e) {\n    e.preventDefault();\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail(\"\");\n          setPassword(\"\");\n          handleLogin();\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleLogin(e) {\n    e.preventDefault();\n    setloggedIn(true);\n  }\n\n  React.useEffect(() => {\n    api\n      .getCardList()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser?._id);\n    if (!isLiked) {\n      api\n        .addLike(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    } else {\n      api\n        .removeLike(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleChangeButtonText() {\n    setIsLoading(true);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Switch>\n        <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\n          <Header loggedIn={loggedIn} pageLink=\"/login\" linkTitle=\"Log out\" />\n          <Main\n            onCardClick={handleCardClick}\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onDeleteCardClick={handleDeleteCardClick}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n            onRenderLoading={handleChangeButtonText}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlaceSubmit={handleAddPlaceSubmit}\n            isLoading={isLoading}\n            onRenderLoading={handleChangeButtonText}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n            onRenderLoading={handleChangeButtonText}\n          />\n          <DeleteCardPopup\n            cardToDelete={cardToDelete}\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            onDeleteCardSubmit={handleCardDelete}\n            isLoading={isLoading}\n            onRenderLoading={handleChangeButtonText}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </ProtectedRoute>\n        <Route path=\"/login\">\n          <Login\n            email={email}\n            password={password}\n            setEmail={setEmail}\n            setPassword={setPassword}\n            onEmailChange={handleEmailChange}\n            onPasswordChange={handlePasswordChange}\n            onLoginSubmit={handleLoginSubmit}\n          />\n        </Route>\n        <Route path=\"/register\">\n          <Register\n            email={email}\n            password={password}\n            setEmail={setEmail}\n            setPassword={setPassword}\n            onEmailChange={handleEmailChange}\n            onPasswordChange={handlePasswordChange}\n            onRegisterSubmit={handleRegisterSubmit}\n          />\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={closeAllPopups}\n          />\n        </Route>\n      </Switch>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"react-around-auth\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}